# ğŸŒ å¤šèªè¨€å­¸ç¿’å¹³å° (Multilingual Learning Platform)

> **Language / èªè¨€:** [ç¹é«”ä¸­æ–‡](#ç¹é«”ä¸­æ–‡) | [English](#english)

---

<a name="ç¹é«”ä¸­æ–‡"></a>
## ç¹é«”ä¸­æ–‡ç‰ˆ

ä¸€å€‹æ•´åˆ AI æŠ€è¡“çš„å¤šèªè¨€å­¸ç¿’å¹³å°ï¼Œæ”¯æ´ä¸­æ–‡å’ŒéŸ“æ–‡è©å½™å­¸ç¿’ï¼Œæä¾›äº’å‹•å¼çŸ¥è­˜åœ–è­œã€å–®å­—æ”¶è—ã€å­¸ç¿’éŠæˆ²ç­‰åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ“š ä¸­æ–‡å­¸ç¿’
- **æ™ºèƒ½è©å½™åˆ†æ**ï¼šä½¿ç”¨ AI (Gemini) åˆ†æç¶²é æˆ–ç´”æ–‡å­—å…§å®¹ï¼Œè‡ªå‹•æå–ä¸­æ–‡è©å½™
- **TOCFL ç´šæ•¸æ¨™è¨˜**ï¼šè‡ªå‹•æ¨™è¨» TOCFL (è¯èªæ–‡èƒ½åŠ›æ¸¬é©—) ç´šæ•¸ï¼ˆç¬¬1-7ç´šï¼‰
- **çŸ¥è­˜åœ–è­œè¦–è¦ºåŒ–**ï¼šäº’å‹•å¼ D3.js åœ–è­œï¼Œé¡è‰²æ¨™ç¤ºä¸åŒç´šæ•¸
- **è‹±æ–‡ç¿»è­¯èˆ‡å®šç¾©**ï¼šæ¯å€‹è©å½™åŒ…å«è‹±æ–‡ç¿»è­¯ã€è‹±æ–‡å®šç¾©å’Œä¾‹å¥
- **å–®å­—æ”¶è—ç³»çµ±**ï¼šé›™æ“Šç¯€é»å³å¯æ”¶è—å–®å­—ï¼Œæ”¯æ´åˆ†ç´šç®¡ç†

### ğŸ‡°ğŸ‡· éŸ“æ–‡å­¸ç¿’
- **éŸ“æ–‡æ–°èåˆ†æ**ï¼šåˆ†æéŸ“æ–‡ç¶²é å…§å®¹ï¼Œæå–é—œéµè©å½™
- **ä¸­æ–‡ç¿»è­¯å°ç…§**ï¼šæä¾›éŸ“æ–‡å–®å­—çš„ä¸­æ–‡ç¿»è­¯å’Œå®šç¾©
- **çŸ¥è­˜åœ–è­œè¦–è¦ºåŒ–**ï¼šäº’å‹•å¼ç¯€é»åœ–è­œï¼Œæ–¹ä¾¿æ¢ç´¢è©å½™é—œä¿‚
- **ä¾‹å¥å­¸ç¿’**ï¼šéŸ“æ–‡ä¾‹å¥æ­é…ä¸­æ–‡ç¿»è­¯

### ğŸ® å­¸ç¿’éŠæˆ²
- **å–®å­—é…å°éŠæˆ²**ï¼šè€ƒé©—è¨˜æ†¶åŠ›çš„ç¿»ç‰Œé…å°
- **æ‰“å­—ç·´ç¿’éŠæˆ²**ï¼šè¨“ç·´æ‹¼å¯«èƒ½åŠ›
- **è½åŠ›ç·´ç¿’**ï¼šTTS èªéŸ³ç”Ÿæˆï¼Œè¨“ç·´è½åŠ›ç†è§£

### ğŸ‘¤ ç”¨æˆ¶ç³»çµ±
- **å¸³è™Ÿè¨»å†Š/ç™»å…¥**ï¼šä½¿ç”¨ Supabase ç®¡ç†ç”¨æˆ¶è³‡æ–™
- **å€‹äººåŒ–æ”¶è—**ï¼šæ¯å€‹ç”¨æˆ¶ç¨ç«‹çš„å–®å­—æ”¶è—åº«
- **å¤šèªè¨€ä»‹é¢**ï¼šæ”¯æ´ç¹é«”ä¸­æ–‡ã€ç°¡é«”ä¸­æ–‡ã€è‹±æ–‡ã€éŸ“æ–‡

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- Python 3.9+
- Node.js (å¯é¸ï¼Œç”¨æ–¼å‰ç«¯é–‹ç™¼)
- Supabase å¸³è™Ÿ
- Google Gemini API Key

### æœ¬åœ°å®‰è£

1. **å…‹éš†å°ˆæ¡ˆ**
```bash
git clone https://github.com/pupupeter/12312366.git
cd 12312366
```

2. **å®‰è£ä¾è³´**
```bash
pip install -r requirements.txt
```

3. **è¨­å®šç’°å¢ƒè®Šæ•¸**

å‰µå»º `.env` æª”æ¡ˆï¼š
```env
# Supabase é…ç½®
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key

# Gemini API
GEMINI_API_KEY=your_gemini_api_key
```

4. **è¨­å®š Supabase è³‡æ–™åº«**

åœ¨ Supabase SQL Editor åŸ·è¡Œä»¥ä¸‹ SQL å‰µå»ºè³‡æ–™è¡¨ï¼š

```sql
-- ç”¨æˆ¶è¡¨
CREATE TABLE users (
    id BIGSERIAL PRIMARY KEY,
    username TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    email TEXT UNIQUE,
    language TEXT DEFAULT 'zh-TW',
    created_at TIMESTAMP DEFAULT NOW(),
    last_login TIMESTAMP
);

-- ä¸­æ–‡å–®å­—æ”¶è—è¡¨
CREATE TABLE chinese_words (
    id BIGSERIAL PRIMARY KEY,
    user_id TEXT NOT NULL,
    chinese TEXT NOT NULL,
    english TEXT,
    definition TEXT,
    example_chinese TEXT,
    example_english TEXT,
    level TEXT,
    level_category TEXT,
    level_number TEXT,
    saved_at TIMESTAMP DEFAULT NOW()
);

-- éŸ“æ–‡å–®å­—æ”¶è—è¡¨
CREATE TABLE korean_words (
    id BIGSERIAL PRIMARY KEY,
    user_id TEXT NOT NULL,
    korean TEXT NOT NULL,
    chinese TEXT,
    definition TEXT,
    example_korean TEXT,
    example_chinese TEXT,
    saved_at TIMESTAMP DEFAULT NOW()
);
```

5. **å•Ÿå‹•æ‡‰ç”¨**
```bash
python railway_app.py
```

æ‡‰ç”¨å°‡åœ¨ `http://localhost:8080` å•Ÿå‹•

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ä¸­æ–‡è©å½™åˆ†æ

1. ç™»å…¥å¾Œé»æ“Šã€Œä¸­æ–‡è©å½™å­¸ç¿’ã€
2. è¼¸å…¥ç¶²å€æˆ–è²¼ä¸Šç´”æ–‡å­—
3. é»æ“Šã€Œé–‹å§‹åˆ†æã€
4. ç­‰å¾… AI åˆ†æå®Œæˆå¾Œï¼Œè‡ªå‹•é–‹å•ŸçŸ¥è­˜åœ–è­œ

**çŸ¥è­˜åœ–è­œæ“ä½œï¼š**
- **æ»‘éç¯€é»**ï¼šæŸ¥çœ‹å–®å­—è©³ç´°è³‡è¨Šï¼ˆè‹±æ–‡ç¿»è­¯ã€å®šç¾©ã€ä¾‹å¥ï¼‰
- **é›™æ“Šç¯€é»**ï¼šæ”¶è—å–®å­—åˆ°å€‹äººæ¸…å–®
- **æ‹–æ›³ç¯€é»**ï¼šé‡æ–°æ’åˆ—åœ–è­œ
- **æ»¾è¼ªç¸®æ”¾**ï¼šæ”¾å¤§/ç¸®å°åœ–è­œ
- **é»æ“Šã€Œâ“ Helpã€**ï¼šæŸ¥çœ‹å®Œæ•´ä½¿ç”¨èªªæ˜

**TOCFL ç´šæ•¸é¡è‰²ï¼š**
- ğŸŸ¢ ç¶ è‰²ï¼šç¬¬1-2ç´šï¼ˆåŸºç¤ï¼‰
- ğŸŸ¡ é»ƒè‰²ï¼šç¬¬3ç´šï¼ˆé€²éšï¼‰
- ğŸŸ  æ©™è‰²ï¼šç¬¬4-5ç´šï¼ˆé€²éš-ç²¾ç†Ÿï¼‰
- ğŸ”´ ç´…è‰²ï¼šç¬¬6-7ç´šï¼ˆç²¾ç†Ÿï¼‰
- âš« ç°è‰²ï¼šæœªåˆ†ç´š

### éŸ“æ–‡è©å½™åˆ†æ

1. ç™»å…¥å¾Œé»æ“Šã€ŒéŸ“æ–‡è©å½™å­¸ç¿’ã€
2. è¼¸å…¥éŸ“æ–‡ç¶²é ç¶²å€
3. é»æ“Šã€Œé–‹å§‹åˆ†æã€
4. æŸ¥çœ‹çŸ¥è­˜åœ–è­œä¸¦æ”¶è—å–®å­—

**çŸ¥è­˜åœ–è­œæ“ä½œï¼š**
- **æ»‘éç¯€é»**ï¼šæŸ¥çœ‹éŸ“æ–‡å–®å­—çš„ä¸­æ–‡ç¿»è­¯å’Œä¾‹å¥
- **é›™æ“Šç¯€é»**ï¼šæ”¶è—å–®å­—
- **é»æ“Šã€Œâ“ ä½¿ç”¨èªªæ˜ã€**ï¼šæŸ¥çœ‹ä¸­æ–‡æ“ä½œæŒ‡å—

### å­¸ç¿’éŠæˆ²

1. é»æ“Šã€Œå–®å­—å­¸ç¿’éŠæˆ²ã€
2. é¸æ“‡éŠæˆ²é¡å‹ï¼š
   - **é…å°éŠæˆ²**ï¼šç¿»ç‰Œé…å°å–®å­—èˆ‡ç¿»è­¯
   - **æ‰“å­—éŠæˆ²**ï¼šæ ¹æ“šæç¤ºè¼¸å…¥æ­£ç¢ºå–®å­—
3. éŠæˆ²å…§å®¹ä¾†è‡ªä½ çš„æ”¶è—å–®å­—

### ç®¡ç†æ”¶è—

- é»æ“Šã€ŒğŸ“š æˆ‘çš„æ”¶è—ã€æŸ¥çœ‹æ‰€æœ‰æ”¶è—å–®å­—
- å¯æŒ‰èªè¨€ã€ç´šæ•¸ç¯©é¸
- æ”¯æ´åˆªé™¤ä¸éœ€è¦çš„å–®å­—
- åŒ¯å‡ºç‚º CSV æª”æ¡ˆä¾›å¤–éƒ¨ä½¿ç”¨

---

## ğŸ› ï¸ éƒ¨ç½²æ–¹æ³•

### Railway éƒ¨ç½² (æ¨è–¦)

Railway æä¾›å…è²»é¡åº¦ï¼Œé©åˆå¿«é€Ÿéƒ¨ç½²ã€‚

1. **æº–å‚™å·¥ä½œ**
   - è¨»å†Š [Railway](https://railway.app/) å¸³è™Ÿ
   - Fork æ­¤å°ˆæ¡ˆåˆ°ä½ çš„ GitHub

2. **å‰µå»ºæ–°å°ˆæ¡ˆ**
   - ç™»å…¥ Railway
   - é»æ“Šã€ŒNew Projectã€
   - é¸æ“‡ã€ŒDeploy from GitHub repoã€
   - é¸æ“‡ä½  Fork çš„å°ˆæ¡ˆ

3. **è¨­å®šç’°å¢ƒè®Šæ•¸**

   åœ¨ Railway å°ˆæ¡ˆçš„ Variables é é¢æ·»åŠ ï¼š
   ```
   SUPABASE_URL=your_supabase_url
   SUPABASE_ANON_KEY=your_supabase_anon_key
   GEMINI_API_KEY=your_gemini_api_key
   PORT=8080
   ```

4. **éƒ¨ç½²è¨­å®š**

   Railway æœƒè‡ªå‹•åµæ¸¬ Python å°ˆæ¡ˆï¼Œä¸¦ä½¿ç”¨ä»¥ä¸‹è¨­å®šï¼š
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `python railway_app.py`

5. **å®Œæˆéƒ¨ç½²**
   - Railway æœƒè‡ªå‹•éƒ¨ç½²ä¸¦æä¾›ä¸€å€‹å…¬é–‹ URL
   - ä¾‹å¦‚ï¼š`https://your-app.railway.app`

6. **è‡ªå‹•éƒ¨ç½²**
   - æ¯æ¬¡ push åˆ° GitHub main åˆ†æ”¯
   - Railway æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²

### Vercel éƒ¨ç½² (å‚™é¸)

Vercel ä¹Ÿå¯ä»¥éƒ¨ç½² Python Flask æ‡‰ç”¨ã€‚

1. **æº–å‚™ vercel.json**

   ç¢ºä¿å°ˆæ¡ˆæ ¹ç›®éŒ„æœ‰ `vercel.json`ï¼š
   ```json
   {
     "version": 2,
     "builds": [
       {
         "src": "railway_app.py",
         "use": "@vercel/python"
       }
     ],
     "routes": [
       {
         "src": "/(.*)",
         "dest": "railway_app.py"
       }
     ]
   }
   ```

2. **éƒ¨ç½²åˆ° Vercel**
   ```bash
   npm i -g vercel
   vercel
   ```

3. **è¨­å®šç’°å¢ƒè®Šæ•¸**

   åœ¨ Vercel Dashboard çš„ Settings â†’ Environment Variables æ·»åŠ ï¼š
   - `SUPABASE_URL`
   - `SUPABASE_ANON_KEY`
   - `GEMINI_API_KEY`

### æœ¬åœ°é–‹ç™¼

```bash
# å®‰è£ä¾è³´
pip install -r requirements.txt

# è¨­å®šç’°å¢ƒè®Šæ•¸
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥ä½ çš„é…ç½®

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
python railway_app.py
```

è¨ªå• `http://localhost:8080`

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
12312366/
â”œâ”€â”€ railway_app.py              # ä¸»æ‡‰ç”¨ç¨‹å¼ (Flask)
â”œâ”€â”€ chinese_analysis.py         # ä¸­æ–‡åœ–è­œç”Ÿæˆ
â”œâ”€â”€ korean_analysis.py          # éŸ“æ–‡åœ–è­œç”Ÿæˆ
â”œâ”€â”€ supabase_utils.py          # Supabase è³‡æ–™åº«æ“ä½œ
â”œâ”€â”€ tocfl_loader.py            # TOCFL è©å½™è¡¨è¼‰å…¥å™¨
â”œâ”€â”€ translations.py            # å¤šèªè¨€ç¿»è­¯
â”œâ”€â”€ templates/                 # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ dashboard.html         # ä¸»æ§é¢æ¿
â”‚   â”œâ”€â”€ review22.html          # æ”¶è—é é¢
â”‚   â”œâ”€â”€ games/                 # éŠæˆ²é é¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ static/                    # éœæ…‹è³‡æº
â”œâ”€â”€ 14452è©èªè¡¨202504.csv      # TOCFL è©å½™è¡¨
â”œâ”€â”€ requirements.txt           # Python ä¾è³´
â”œâ”€â”€ .env                       # ç’°å¢ƒè®Šæ•¸ (ä¸æäº¤åˆ° Git)
â””â”€â”€ README.md                  # æœ¬æ–‡ä»¶
```

---

## ğŸ”§ æŠ€è¡“æ£§

### å¾Œç«¯
- **Flask**ï¼šWeb æ¡†æ¶
- **Supabase**ï¼šè³‡æ–™åº« (PostgreSQL)
- **Google Gemini**ï¼šAI è©å½™åˆ†æ
- **smolagents**ï¼šAI Agent æ¡†æ¶

### å‰ç«¯
- **D3.js**ï¼šçŸ¥è­˜åœ–è­œè¦–è¦ºåŒ–
- **Bootstrap**ï¼šUI æ¡†æ¶
- **Jinja2**ï¼šæ¨¡æ¿å¼•æ“

### éƒ¨ç½²
- **Railway**ï¼šä¸»è¦éƒ¨ç½²å¹³å°
- **Vercel**ï¼šå‚™é¸éƒ¨ç½²å¹³å°

---

## ğŸŒ ç’°å¢ƒè®Šæ•¸èªªæ˜

| è®Šæ•¸åç¨± | èªªæ˜ | å¿…å¡« |
|---------|------|------|
| `SUPABASE_URL` | Supabase å°ˆæ¡ˆ URL | âœ… |
| `SUPABASE_ANON_KEY` | Supabase åŒ¿åé‡‘é‘° | âœ… |
| `GEMINI_API_KEY` | Google Gemini API é‡‘é‘° | âœ… |
| `PORT` | æ‡‰ç”¨ç«¯å£ (é è¨­ 8080) | âŒ |

---

## ğŸ“ å¸¸è¦‹å•é¡Œ

### Q: å¦‚ä½•ç²å– Gemini API Key?
A: å‰å¾€ [Google AI Studio](https://makersuite.google.com/app/apikey) ç”³è«‹å…è²» API Keyã€‚

### Q: Supabase å¦‚ä½•è¨­å®š?
A:
1. è¨»å†Š [Supabase](https://supabase.com/)
2. å‰µå»ºæ–°å°ˆæ¡ˆ
3. åœ¨ Settings â†’ API æ‰¾åˆ° URL å’Œ anon key
4. åœ¨ SQL Editor åŸ·è¡Œè³‡æ–™è¡¨å‰µå»º SQL

### Q: éƒ¨ç½²å¾Œç„¡æ³•ç™»å…¥?
A: ç¢ºèª Supabase ç’°å¢ƒè®Šæ•¸è¨­å®šæ­£ç¢ºï¼Œä¸¦æª¢æŸ¥è³‡æ–™è¡¨æ˜¯å¦å·²å‰µå»ºã€‚

### Q: ä¸­æ–‡åˆ†ææ²’æœ‰åæ‡‰?
A: æª¢æŸ¥ Gemini API Key æ˜¯å¦æœ‰æ•ˆï¼Œä»¥åŠæ˜¯å¦æœ‰ API é…é¡ã€‚

### Q: åœ–è­œé¡¯ç¤ºç©ºç™½?
A: ç¢ºèªç€è¦½å™¨æ”¯æ´ D3.jsï¼Œå»ºè­°ä½¿ç”¨æœ€æ–°ç‰ˆ Chrome æˆ– Firefoxã€‚

---

## ğŸ“„ æˆæ¬Š

MIT License

---

## ğŸ‘¨â€ğŸ’» é–‹ç™¼è€…

ç”± Claude Code å”åŠ©é–‹ç™¼

---

## ğŸ”— ç›¸é—œé€£çµ

- [Supabase æ–‡æª”](https://supabase.com/docs)
- [Railway æ–‡æª”](https://docs.railway.app/)
- [Google Gemini API](https://ai.google.dev/)
- [D3.js æ–‡æª”](https://d3js.org/)

---
---

<a name="english"></a>
## English Version

An AI-powered multilingual learning platform supporting Chinese and Korean vocabulary learning with interactive knowledge graphs, word collections, learning games, and more.

## âœ¨ Key Features

### ğŸ“š Chinese Learning
- **Smart Vocabulary Analysis**: Uses AI (Gemini) to analyze web pages or plain text content, automatically extracting Chinese vocabulary
- **TOCFL Level Tagging**: Automatically labels TOCFL (Test of Chinese as a Foreign Language) levels (Levels 1-7)
- **Knowledge Graph Visualization**: Interactive D3.js graphs with color-coded difficulty levels
- **English Translations & Definitions**: Each word includes English translation, English definition, and example sentences
- **Word Collection System**: Double-click nodes to save words with level-based management

### ğŸ‡°ğŸ‡· Korean Learning
- **Korean News Analysis**: Analyzes Korean web content and extracts key vocabulary
- **Chinese Translation Reference**: Provides Chinese translations and definitions for Korean words
- **Knowledge Graph Visualization**: Interactive node graphs for exploring vocabulary relationships
- **Example Sentence Learning**: Korean example sentences with Chinese translations

### ğŸ® Learning Games
- **Word Matching Game**: Memory-testing card matching
- **Typing Practice Game**: Spelling ability training
- **Listening Practice**: TTS voice generation for listening comprehension training

### ğŸ‘¤ User System
- **Account Registration/Login**: User data management via Supabase
- **Personalized Collections**: Independent word collection library for each user
- **Multilingual Interface**: Supports Traditional Chinese, Simplified Chinese, English, and Korean

---

## ğŸš€ Quick Start

### Prerequisites

- Python 3.9+
- Node.js (optional, for frontend development)
- Supabase account
- Google Gemini API Key

### Local Installation

1. **Clone the project**
```bash
git clone https://github.com/pupupeter/12312366.git
cd 12312366
```

2. **Install dependencies**
```bash
pip install -r requirements.txt
```

3. **Configure environment variables**

Create a `.env` file:
```env
# Supabase Configuration
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key

# Gemini API
GEMINI_API_KEY=your_gemini_api_key
```

4. **Set up Supabase database**

Execute the following SQL in Supabase SQL Editor to create tables:

```sql
-- Users table
CREATE TABLE users (
    id BIGSERIAL PRIMARY KEY,
    username TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    email TEXT UNIQUE,
    language TEXT DEFAULT 'zh-TW',
    created_at TIMESTAMP DEFAULT NOW(),
    last_login TIMESTAMP
);

-- Chinese words collection table
CREATE TABLE chinese_words (
    id BIGSERIAL PRIMARY KEY,
    user_id TEXT NOT NULL,
    chinese TEXT NOT NULL,
    english TEXT,
    definition TEXT,
    example_chinese TEXT,
    example_english TEXT,
    level TEXT,
    level_category TEXT,
    level_number TEXT,
    saved_at TIMESTAMP DEFAULT NOW()
);

-- Korean words collection table
CREATE TABLE korean_words (
    id BIGSERIAL PRIMARY KEY,
    user_id TEXT NOT NULL,
    korean TEXT NOT NULL,
    chinese TEXT,
    definition TEXT,
    example_korean TEXT,
    example_chinese TEXT,
    saved_at TIMESTAMP DEFAULT NOW()
);
```

5. **Start the application**
```bash
python railway_app.py
```

The application will start at `http://localhost:8080`

---

## ğŸ“– How to Use

### Chinese Vocabulary Analysis

1. After logging in, click "Chinese Vocabulary Learning"
2. Enter a URL or paste plain text
3. Click "Start Analysis"
4. Wait for AI analysis to complete, then the knowledge graph will open automatically

**Knowledge Graph Operations:**
- **Hover over nodes**: View detailed word information (English translation, definition, example sentences)
- **Double-click nodes**: Save words to your personal list
- **Drag nodes**: Rearrange the graph
- **Scroll wheel zoom**: Zoom in/out of the graph
- **Click "â“ Help"**: View complete usage instructions

**TOCFL Level Colors:**
- ğŸŸ¢ Green: Level 1-2 (Basic)
- ğŸŸ¡ Yellow: Level 3 (Intermediate)
- ğŸŸ  Orange: Level 4-5 (Intermediate-Advanced)
- ğŸ”´ Red: Level 6-7 (Advanced)
- âš« Gray: Ungraded

### Korean Vocabulary Analysis

1. After logging in, click "Korean Vocabulary Learning"
2. Enter a Korean webpage URL
3. Click "Start Analysis"
4. View the knowledge graph and save words

**Knowledge Graph Operations:**
- **Hover over nodes**: View Chinese translations and example sentences for Korean words
- **Double-click nodes**: Save words
- **Click "â“ ä½¿ç”¨èªªæ˜"**: View Chinese operation guide

### Learning Games

1. Click "Word Learning Games"
2. Choose game type:
   - **Matching Game**: Flip cards to match words with translations
   - **Typing Game**: Enter correct words based on prompts
3. Game content comes from your saved words

### Manage Collections

- Click "ğŸ“š My Collections" to view all saved words
- Filter by language and level
- Delete unwanted words
- Export as CSV file for external use

---

## ğŸ› ï¸ Deployment Methods

### Railway Deployment (Recommended)

Railway offers free tier quota, suitable for quick deployment.

1. **Preparation**
   - Register a [Railway](https://railway.app/) account
   - Fork this project to your GitHub

2. **Create new project**
   - Log in to Railway
   - Click "New Project"
   - Select "Deploy from GitHub repo"
   - Choose your forked project

3. **Configure environment variables**

   Add in Railway project's Variables page:
   ```
   SUPABASE_URL=your_supabase_url
   SUPABASE_ANON_KEY=your_supabase_anon_key
   GEMINI_API_KEY=your_gemini_api_key
   PORT=8080
   ```

4. **Deployment configuration**

   Railway will automatically detect the Python project and use the following settings:
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `python railway_app.py`

5. **Complete deployment**
   - Railway will automatically deploy and provide a public URL
   - Example: `https://your-app.railway.app`

6. **Auto deployment**
   - Every push to GitHub main branch
   - Railway will automatically redeploy

### Vercel Deployment (Alternative)

Vercel can also deploy Python Flask applications.

1. **Prepare vercel.json**

   Ensure `vercel.json` exists in project root:
   ```json
   {
     "version": 2,
     "builds": [
       {
         "src": "railway_app.py",
         "use": "@vercel/python"
       }
     ],
     "routes": [
       {
         "src": "/(.*)",
         "dest": "railway_app.py"
       }
     ]
   }
   ```

2. **Deploy to Vercel**
   ```bash
   npm i -g vercel
   vercel
   ```

3. **Configure environment variables**

   Add in Vercel Dashboard Settings â†’ Environment Variables:
   - `SUPABASE_URL`
   - `SUPABASE_ANON_KEY`
   - `GEMINI_API_KEY`

### Local Development

```bash
# Install dependencies
pip install -r requirements.txt

# Configure environment variables
cp .env.example .env
# Edit .env to fill in your configuration

# Start development server
python railway_app.py
```

Visit `http://localhost:8080`

---

## ğŸ“ Project Structure

```
12312366/
â”œâ”€â”€ railway_app.py              # Main application (Flask)
â”œâ”€â”€ chinese_analysis.py         # Chinese graph generation
â”œâ”€â”€ korean_analysis.py          # Korean graph generation
â”œâ”€â”€ supabase_utils.py          # Supabase database operations
â”œâ”€â”€ tocfl_loader.py            # TOCFL vocabulary loader
â”œâ”€â”€ translations.py            # Multilingual translations
â”œâ”€â”€ templates/                 # HTML templates
â”‚   â”œâ”€â”€ dashboard.html         # Main dashboard
â”‚   â”œâ”€â”€ review22.html          # Collections page
â”‚   â”œâ”€â”€ games/                 # Game pages
â”‚   â””â”€â”€ ...
â”œâ”€â”€ static/                    # Static resources
â”œâ”€â”€ 14452è©èªè¡¨202504.csv      # TOCFL vocabulary list
â”œâ”€â”€ requirements.txt           # Python dependencies
â”œâ”€â”€ .env                       # Environment variables (not committed to Git)
â””â”€â”€ README.md                  # This file
```

---

## ğŸ”§ Tech Stack

### Backend
- **Flask**: Web framework
- **Supabase**: Database (PostgreSQL)
- **Google Gemini**: AI vocabulary analysis
- **smolagents**: AI Agent framework

### Frontend
- **D3.js**: Knowledge graph visualization
- **Bootstrap**: UI framework
- **Jinja2**: Template engine

### Deployment
- **Railway**: Primary deployment platform
- **Vercel**: Alternative deployment platform

---

## ğŸŒ Environment Variables

| Variable Name | Description | Required |
|--------------|-------------|----------|
| `SUPABASE_URL` | Supabase project URL | âœ… |
| `SUPABASE_ANON_KEY` | Supabase anonymous key | âœ… |
| `GEMINI_API_KEY` | Google Gemini API key | âœ… |
| `PORT` | Application port (default 8080) | âŒ |

---

## ğŸ“ FAQ

### Q: How to get Gemini API Key?
A: Visit [Google AI Studio](https://makersuite.google.com/app/apikey) to apply for a free API Key.

### Q: How to set up Supabase?
A:
1. Register at [Supabase](https://supabase.com/)
2. Create a new project
3. Find URL and anon key in Settings â†’ API
4. Execute table creation SQL in SQL Editor

### Q: Can't log in after deployment?
A: Verify Supabase environment variables are configured correctly and check if tables have been created.

### Q: Chinese analysis not responding?
A: Check if Gemini API Key is valid and if you have API quota.

### Q: Graph displays blank?
A: Verify browser supports D3.js; recommend using latest Chrome or Firefox.

---

## ğŸ“„ License

MIT License

---

## ğŸ‘¨â€ğŸ’» Developer

Developed with assistance from Claude Code

---

## ğŸ”— Related Links

- [Supabase Documentation](https://supabase.com/docs)
- [Railway Documentation](https://docs.railway.app/)
- [Google Gemini API](https://ai.google.dev/)
- [D3.js Documentation](https://d3js.org/)
